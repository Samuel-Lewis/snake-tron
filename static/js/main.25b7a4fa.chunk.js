(this["webpackJsonpsnake-tron"]=this["webpackJsonpsnake-tron"]||[]).push([[0],{160:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),s=n(24),i=n.n(s),j=n(52),l=(n(159),n(160),n(254)),o=n(23),b=n(43),u=n(261),O=n(260),h=n(259),d=n(149),x=n(80),f=n.n(x),m=n(115),p=n(87),C=n(263),g=n(116),v=n.n(g),S=n(267),k=n(6),T=function e(t){var n=this;Object(p.a)(this,e),this.url=void 0,this.init=function(){var e=Object(m.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(n.url,t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(m.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(n.url,t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.url=t},N=function(e){var t=e.setController,n=e.position,c=Object(r.useCallback)((function(e){var n=new T(e.target.value);t(n)}),[t]);return Object(k.jsx)(h.a.Item,{label:"Address",name:n,children:Object(k.jsx)(C.a,{prefix:Object(k.jsx)(S.a,{}),onChange:c})})},R=function(e){return!!e},y=function(e){var t=e.onControllerChange,n=e.onNext,c=Object(r.useMemo)((function(){return[]}),[]),a=Object(r.useCallback)((function(e){return function(n){c[e]=n,t(c.filter(R))}}),[t,c]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(h.a,{children:[Object(k.jsx)(N,{setController:a(0)}),Object(k.jsx)(N,{setController:a(1)})]}),Object(k.jsx)(d.a,{type:"primary",onClick:n,children:"Next"})]})},E=n(146),w=n(153),A=n(150),P=n(265),M=O.a.Paragraph,I=function(e){Object(w.a)(n,e);var t=Object(A.a)(n);function n(e){var c;return Object(p.a)(this,n),(c=t.call(this,e)).onCancel=function(){c.props.onPrev()},c.state={},c}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.controllers,n=e.options;return t&&t.length&&n?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(d.a,{onClick:this.onCancel,danger:!0,children:"Cancel"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(P.a,{message:"Something went wrong... There were either no controllers or options specified",type:"error",showIcon:!0}),Object(k.jsxs)(M,{children:["Controllers:",Object(k.jsx)("pre",{children:JSON.stringify(t,null,2)})]}),Object(k.jsxs)(M,{children:["Options:",Object(k.jsx)("pre",{children:JSON.stringify(n,null,2)})]}),Object(k.jsx)(d.a,{onClick:this.onCancel,children:"Previous"})]})}}]),n}(a.a.Component),L=n(262),G=n(266),F=function(e){var t=e.onConfigChange,n=e.onNext,c=e.onPrev,s=a.a.useState(50),i=Object(b.a)(s,2),j=i[0],l=i[1],o=a.a.useState(1e3),u=Object(b.a)(o,2),O=u[0],x=u[1],f=Object(r.useCallback)((function(){t({gridSize:j,maxTicks:O})}),[t,j,O]),m=Object(r.useCallback)((function(e){x(e),f()}),[f,x]),p=Object(r.useCallback)((function(e){l(e),f()}),[f,l]);return Object(r.useEffect)((function(){t({gridSize:j,maxTicks:O})}),[t,j,O]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(h.a,{children:[Object(k.jsx)(h.a.Item,{label:"Max ticks",children:Object(k.jsx)(L.a,{min:100,max:1e4,defaultValue:1e3,value:O,onChange:m})}),Object(k.jsx)(h.a.Item,{label:"Grid size",children:Object(k.jsx)(L.a,{min:10,max:1e3,defaultValue:50,value:j,onChange:p})})]}),Object(k.jsxs)(G.b,{children:[Object(k.jsx)(d.a,{onClick:c,children:"Previous"}),Object(k.jsx)(d.a,{type:"primary",onClick:n,children:"Start"})]})]})},J=u.a.Step,U=O.a.Title;!function(e){e[e.CONTROLLER_CREATOR=0]="CONTROLLER_CREATOR",e[e.GAME_SETUP=1]="GAME_SETUP",e[e.PLAYING=2]="PLAYING",e[e.SUMMARY=3]="SUMMARY"}(c||(c={}));var _,z=function(){var e=Object(r.useState)(c.CONTROLLER_CREATOR),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),i=Object(b.a)(s,2),j=i[0],l=i[1],o=Object(r.useState)(),O=Object(b.a)(o,2),h=O[0],d=O[1],x=Object(r.useCallback)((function(e){l(e)}),[l]),f=Object(r.useCallback)((function(e){d(e)}),[d]),m=Object(r.useCallback)((function(){a(Math.min(n+1,c.SUMMARY))}),[n,a]),p=Object(r.useCallback)((function(){a(Math.max(n-1,c.CONTROLLER_CREATOR))}),[n,a]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U,{children:"Play a Game"}),Object(k.jsxs)(u.a,{current:n,children:[Object(k.jsx)(J,{title:"Controller Creator"}),Object(k.jsx)(J,{title:"Game Setup"}),Object(k.jsx)(J,{title:"Running"}),Object(k.jsx)(J,{title:"Summary"})]}),Object(k.jsx)("br",{}),n===c.CONTROLLER_CREATOR&&Object(k.jsx)(y,{onControllerChange:x,onNext:m}),n===c.GAME_SETUP&&Object(k.jsx)(F,{onConfigChange:f,onNext:m,onPrev:p}),n===c.PLAYING&&Object(k.jsx)(I,{controllers:j,options:h,onPrev:p})]})},H=O.a.Title,Y=O.a.Paragraph,V=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(H,{children:"Snake Tron - Code Fights!"}),Object(k.jsx)(Y,{children:"What, you thought there would be content?"})]})},W=l.a.Content,B=function(e){return Object(k.jsx)(W,{className:"content",children:e.children})},K=l.a.Footer,q=function(){return Object(k.jsxs)(K,{className:"footer",children:["Created by ",Object(k.jsx)("a",{href:"http://samuel-lewis.com/",children:"Samuel Lewis"})]})},D=n(264),Q=l.a.Header,X=function(){return Object(k.jsxs)(Q,{className:"header",children:[Object(k.jsx)("div",{className:"logo",children:"\ud83d\udc0d\ud83c\udfcd\ufe0f"}),Object(k.jsxs)(D.a,{theme:"dark",mode:"horizontal",children:[Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(j.b,{to:"/",children:"Home"})},"home"),Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(j.b,{to:"/game",children:"Game"})},"game"),Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(j.b,{to:"/viewer",children:"Viewer"})},"viewer"),Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(j.b,{to:"/tester",children:"Controller Tester"})},"tester")]})]})},Z=n(258),$=n(255),ee=n(256),te=n(257);!function(e){e.NORTH="N",e.SOUTH="S",e.EAST="E",e.WEST="W"}(_||(_={}));var ne=Z.a.TabPane,ce=O.a.Title,re=O.a.Paragraph,ae={playerNumber:2,playerCount:4,gameId:"sample-test",gridSize:50},se={tick:2,positions:[[[42,31],[41,31],[40,31]],[[47,27],[47,28]]],lastMoves:[_.NORTH,_.SOUTH],food:[[35,16],[17,6]],playerAlive:[!0,!0],meta:{playerCount:2,gameId:"48e2ee9e-171e-45bd-8904-a762d8e2b782",gridSize:50}},ie=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(b.a)(a,2),i=s[0],j=s[1],l=Object(r.useState)(""),o=Object(b.a)(l,2),u=o[0],O=o[1],h=Object(r.useCallback)((function(e){c(e)}),[c]),x=Object(r.useCallback)((function(){O(JSON.stringify(ae,null,2)),null===n||void 0===n||n.init(ae).then((function(e){return j(JSON.stringify(e,null,2))})).catch((function(e){return j(e.message)}))}),[n,j]),f=Object(r.useCallback)((function(){O(JSON.stringify(se,null,2)),null===n||void 0===n||n.update(se).then((function(e){return j(JSON.stringify(e,null,2))})).catch((function(e){return j(e.message)}))}),[n,j]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ce,{children:"Controller Tester"}),Object(k.jsx)(Z.a,{defaultActiveKey:"1",children:Object(k.jsx)(ne,{tab:"Rest",children:Object(k.jsx)(N,{setController:h})},"1")}),Object(k.jsx)(d.a,{onClick:x,children:"Test game initialise"}),Object(k.jsx)(d.a,{onClick:f,children:"Test game update"}),Object(k.jsxs)($.a,{gutter:16,children:[Object(k.jsxs)(ee.a,{span:12,children:[Object(k.jsx)(te.a,{children:"Sent"}),Object(k.jsx)(re,{children:u&&Object(k.jsx)("pre",{children:u})})]}),Object(k.jsxs)(ee.a,{span:12,children:[Object(k.jsx)(te.a,{children:"Response"}),Object(k.jsx)(re,{children:i&&Object(k.jsx)("pre",{children:i})})]})]})]})},je=O.a.Title,le=O.a.Paragraph,oe=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(je,{children:"Game Viewer"}),Object(k.jsx)(le,{children:"What, you thought there would be content?"})]})};var be=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(l.a,{className:"layout",children:[Object(k.jsx)(X,{}),Object(k.jsx)(B,{children:Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{exact:!0,path:"/",children:Object(k.jsx)(V,{})}),Object(k.jsx)(o.a,{path:"/game",children:Object(k.jsx)(z,{})}),Object(k.jsx)(o.a,{path:"/viewer",children:Object(k.jsx)(oe,{})}),Object(k.jsx)(o.a,{path:"/tester",children:Object(k.jsx)(ie,{})})]})}),Object(k.jsx)(q,{})]})})};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(j.a,{children:Object(k.jsx)(be,{})})}),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.25b7a4fa.chunk.js.map